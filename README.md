# YOLOv8_to_COCO_CVAT
 
This repository was created to help all researchers in the field of artificial intelligence to automatically annotate images using [YOLOv8-OBB](https://docs.ultralytics.com/tasks/obb/), and to save the annotations in COCO format for [CVAT](https://github.com/cvat-ai/cvat).

The basic idea is to annotate a part of the dataset, train the model with these images and then use this pipeline to annotate the remaining images. Note that you should always review the annotations. The annotation tool for which this pipeline was developed is [CVAT](https://github.com/cvat-ai/cvat).

Below is an example of a workflow that can help you with the annotation process:

1. In CVAT create a task and add a small part of your dataset. Pay attention to the order in which you insert the labels.

2. Annotates images manually and export the annotations in COCO 1.0 format.

3. Use this [repo](https://github.com/Koldim2001/COCO_to_YOLOv8.git) to convert the annotations to the format used by YOLOv8-obb and train your model.

4. Now use all the images in your dataset (you should have them stored locally) and use this pipeline to automatically annotate the images.

5. In CVAT, create a task that includes all the images in your dataset and upload the json file generated by the pipeline.

## Parameters

Inside the `constants.yaml` there is a set of parameters whose description is as follows:

* `model_path` (str): path to the model that you have trained (required)

* `images_path` (str): path to the folder that contains the images that you want to annotate (required)

* `labels` (list): ordered list of labels used in training (required)

* `save_annotations_path` (str): path to the folder where you want to save the annotations file. If empty the file will be saved in the current directorty (not required)

* `save_image` (bool): if true the images with the annotations will be saved in the path specified in **save_annotations_path** in folder predictions/images (not required)

* `save_txt` (bool): if true the annotations in YOLO OBB format will be saved in the path specified in **save_annotations_path** in folder predictions/annotations (not required)

## Installation

* Create a Virtual Enviroment
* Clone repo and install the requirements

```
git clone https://github.com/dcaldana12/YOLOV8_to_COCO_CVAT.git
cd YOLOV8_to_COCO_CVAT
pip install -r requirements.txt
```


## Usage

Once you have specified all the parameters in `constants.yaml` simply run:

```
python main.py
```


## Contributing

Pull requests are welcome. For major changes, please open an issue first to discuss what you would like to change.


## License

This repo is under [BSD-2-Clause](https://opensource.org/license/bsd-2-clause).
