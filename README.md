# YOLOv8_to_COCO_CVAT
 
This repository was created to assist researchers in the field of artificial intelligence with the automatic annotation of images using [YOLOv8-OBB](https://docs.ultralytics.com/tasks/obb/), and to save the annotations in COCO format for [CVAT](https://github.com/cvat-ai/cvat).

The basic idea is to manually annotate a portion of the dataset, train the model with these images, and then use this pipeline to annotate the remaining images. Please note that it is important to always review the annotations. The annotation tool for which this pipeline was developed is [CVAT](https://github.com/cvat-ai/cvat).

Below is an example workflow to assist with the annotation process:

1. In [CVAT](https://github.com/cvat-ai/cvat), create a task and add a small portion of your dataset. Pay attention to the order in which you insert the labels

2. Manually annotate the images and export the annotations in COCO 1.0 format

3. Use this [repository](https://github.com/Koldim2001/COCO_to_YOLOv8.git) to convert the annotations to the format required by YOLOv8-OBB and train your model

4. Now, use all the images in your dataset (which should be stored locally) and use this script to automatically annotate them

5. In [CVAT](https://github.com/cvat-ai/cvat), create a task that includes all the images in your dataset and upload the JSON file generated by the script

## Parameters

Inside the `constants.yaml` file, you will find a set of parameters with the following descriptions:

* `model_path` (str): Path to the trained model (required)

* `images_path` (str): Path to the folder containing the images you want to annotate (required)

* `labels` (list): Ordered list of labels used during training (required)

* `save_annotations_path` (str): Path to the folder where the annotations file will be saved. If left empty, the file will be saved in the current directory (optional)

* `save_image` (bool): If true, the images with annotations will be saved in the path specified in **save_annotations_path**, under **predictions/images** (optional)

* `save_txt` (bool): If true, the annotations in YOLO OBB format will be saved in the path specified in **save_annotations_path**, under **predictions/annotations** (optional)

## Installation

* Create a Virtual Enviroment
* Clone repo and install the requirements

```
git clone https://github.com/dcaldana12/YOLOv8_to_COCO_CVAT.git
cd YOLOV8_to_COCO_CVAT
pip install -r requirements.txt
```


## Usage

Once you have specified all the parameters in `constants.yaml` simply run:

```
python main.py
```


## Contributing

Pull requests are welcome. For major changes, please open an issue first to discuss what you would like to change.


## License

This repo is under [BSD-2-Clause](https://opensource.org/license/bsd-2-clause).
